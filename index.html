<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Budget Allocator (Test Version)</title>
  <style>
    body {
      font-family: sans-serif;
      max-width: 700px;
      margin: auto;
      padding: 20px;
    }
    .slider-container {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
      gap: 10px;
    }
    .label {
      width: 150px;
    }
    .value {
      width: 60px;
      text-align: right;
    }
    input[type="range"] {
      flex: 1;
    }
  </style>
</head>
<body>

<h1>Budget Allocator (Debug Mode)</h1>
<div id="sliders"></div>
<p><strong>Total:</strong> £<span id="total">0</span> billion</p>

<script>
  const totalBudget = 1080.0;
  const categories = [
    { name: "Health", allocation: 190.1, locked: false },
    { name: "Education", allocation: 88.8, locked: false },
    { name: "Defence", allocation: 37.5, locked: false },
    { name: "Welfare", allocation: 251.0, locked: false },
    { name: "Public Order", allocation: 39.0, locked: false },
    { name: "Transport", allocation: 45.0, locked: false }
  ];

  function render() {
    const container = document.getElementById("sliders");
    container.innerHTML = "";

    categories.forEach((cat, index) => {
      const row = document.createElement("div");
      row.className = "slider-container";

      const label = document.createElement("span");
      label.className = "label";
      label.textContent = cat.name;

      const slider = document.createElement("input");
      slider.type = "range";
      slider.min = 0;
      slider.max = totalBudget;
      slider.step = 1;
      slider.value = cat.allocation;
      slider.disabled = cat.locked;
      slider.addEventListener("input", () => {
        cat.allocation = parseFloat(slider.value);
        render(); // re-render to update values
      });

      const value = document.createElement("span");
      value.className = "value";
      value.textContent = `£${cat.allocation.toFixed(1)}`;

      row.appendChild(label);
      row.appendChild(slider);
      row.appendChild(value);
      container.appendChild(row);
    });

    const total = categories.reduce((sum, c) => sum + c.allocation, 0);
    document.getElementById("total").textContent = total.toFixed(1);
  }

  document.addEventListener("DOMContentLoaded", render);
</script>

</body>
</html>
